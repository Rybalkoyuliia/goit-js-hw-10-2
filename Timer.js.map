{"version":3,"file":"Timer.js","sources":["../src/js/timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    newDate = selectedDates[0].getTime();\n    if (newDate < Date.now()) {\n      startButton.disabled = true;\n      alert('You have to choose date in the future');\n    } else {\n      startButton.disabled = false;\n    }\n  },\n};\n\nlet newDate = '';\n\nconst timeInput = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst timer = document.querySelector('.timer');\n\nstartButton.disabled = true;\n\nflatpickr(timeInput, options);\n\nstartButton.addEventListener('click', handleStart);\n\nfunction handleStart() {\n  startButton.disabled = true;\n\n  const countdown = setInterval(() => {\n    let diff = newDate - Date.now();\n    if (diff >= 0) {\n      let time = convertMilliseconds(diff);\n\n      for (let t of timer.children) {\n        if (\n          t.lastElementChild.textContent === 'Days' ||\n          t.lastElementChild.textContent === 'Day'\n        ) {\n          t.firstElementChild.textContent = String(time.days).padStart(2, '0');\n          t.lastElementChild.textContent = time.minutes === 1 ? 'Day' : 'Days';\n        } else if (\n          t.lastElementChild.textContent === 'Hours' ||\n          t.lastElementChild.textContent === 'Hour'\n        ) {\n          t.firstElementChild.textContent = String(time.hours).padStart(2, '0');\n          t.lastElementChild.textContent =\n            time.minutes === 1 ? 'Hour' : 'Hours';\n        } else if (\n          t.lastElementChild.textContent === 'Minutes' ||\n          t.lastElementChild.textContent === 'Minute'\n        ) {\n          t.firstElementChild.textContent = String(time.minutes).padStart(\n            2,\n            '0'\n          );\n          t.lastElementChild.textContent =\n            time.minutes === 1 ? 'Minute' : 'Minutes';\n        } else if (\n          t.lastElementChild.textContent === 'Seconds' ||\n          t.lastElementChild.textContent === 'Second'\n        ) {\n          t.firstElementChild.textContent = String(time.seconds).padStart(\n            2,\n            '0'\n          );\n          t.lastElementChild.textContent =\n            time.seconds === 1 ? 'Second' : 'Seconds';\n        }\n      }\n    } else {\n      clearInterval(countdown);\n    }\n  }, 1000);\n}\n\nfunction convertMilliseconds(ms) {\n  const seconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n\n  return {\n    days: days,\n    hours: hours % 24,\n    minutes: minutes % 60,\n    seconds: seconds % 60,\n  };\n}\n"],"names":["options","selectedDates","newDate","startButton","timeInput","timer","flatpickr","handleStart","countdown","diff","time","convertMilliseconds","ms","seconds","minutes","hours"],"mappings":"wIAGA,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAUD,EAAc,CAAC,EAAE,QAAO,EAC9BC,EAAU,KAAK,OACjBC,EAAY,SAAW,GACvB,MAAM,uCAAuC,GAE7CA,EAAY,SAAW,EAE1B,CACH,EAEA,IAAID,EAAU,GAEd,MAAME,EAAY,SAAS,cAAc,kBAAkB,EACrDD,EAAc,SAAS,cAAc,cAAc,EACnDE,EAAQ,SAAS,cAAc,QAAQ,EAE7CF,EAAY,SAAW,GAEvBG,EAAUF,EAAWJ,CAAO,EAE5BG,EAAY,iBAAiB,QAASI,CAAW,EAEjD,SAASA,GAAc,CACrBJ,EAAY,SAAW,GAEvB,MAAMK,EAAY,YAAY,IAAM,CAClC,IAAIC,EAAOP,EAAU,KAAK,IAAG,EAC7B,GAAIO,GAAQ,EAAG,CACb,IAAIC,EAAOC,EAAoBF,CAAI,EAEnC,QAAS,KAAKJ,EAAM,SAEhB,EAAE,iBAAiB,cAAgB,QACnC,EAAE,iBAAiB,cAAgB,OAEnC,EAAE,kBAAkB,YAAc,OAAOK,EAAK,IAAI,EAAE,SAAS,EAAG,GAAG,EACnE,EAAE,iBAAiB,YAAcA,EAAK,UAAY,EAAI,MAAQ,QAE9D,EAAE,iBAAiB,cAAgB,SACnC,EAAE,iBAAiB,cAAgB,QAEnC,EAAE,kBAAkB,YAAc,OAAOA,EAAK,KAAK,EAAE,SAAS,EAAG,GAAG,EACpE,EAAE,iBAAiB,YACjBA,EAAK,UAAY,EAAI,OAAS,SAEhC,EAAE,iBAAiB,cAAgB,WACnC,EAAE,iBAAiB,cAAgB,UAEnC,EAAE,kBAAkB,YAAc,OAAOA,EAAK,OAAO,EAAE,SACrD,EACA,GACZ,EACU,EAAE,iBAAiB,YACjBA,EAAK,UAAY,EAAI,SAAW,YAElC,EAAE,iBAAiB,cAAgB,WACnC,EAAE,iBAAiB,cAAgB,YAEnC,EAAE,kBAAkB,YAAc,OAAOA,EAAK,OAAO,EAAE,SACrD,EACA,GACZ,EACU,EAAE,iBAAiB,YACjBA,EAAK,UAAY,EAAI,SAAW,UAG5C,MACM,cAAcF,CAAS,CAE1B,EAAE,GAAI,CACT,CAEA,SAASG,EAAoBC,EAAI,CAC/B,MAAMC,EAAU,KAAK,MAAMD,EAAK,GAAI,EAC9BE,EAAU,KAAK,MAAMD,EAAU,EAAE,EACjCE,EAAQ,KAAK,MAAMD,EAAU,EAAE,EAGrC,MAAO,CACL,KAHW,KAAK,MAAMC,EAAQ,EAAE,EAIhC,MAAOA,EAAQ,GACf,QAASD,EAAU,GACnB,QAASD,EAAU,EACvB,CACA"}